<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Jasmine Spec Runner v2.0.0</title>

  <link rel="shortcut icon" type="image/png" href="../libs/jasmine-2.0.0/jasmine_favicon.png">
  <link rel="stylesheet" type="text/css" href="../libs/jasmine-2.0.0/jasmine.css">

  <style>

    body {
      margin: 0;
    }

    .html-reporter {
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 300px;
      overflow: auto;
    }
  </style>

  <script type="text/javascript" src="../libs/jasmine-2.0.0/jasmine.js"></script>
  <script type="text/javascript" src="../libs/jasmine-2.0.0/jasmine-html.js"></script>
  <script type="text/javascript" src="../libs/jasmine-2.0.0/boot.js"></script>

  <!-- include source files here... -->
  <script type="text/javascript" src="../libs/jquery/jquery.js"></script>
  <script type="text/javascript" src="../src/fixto.js"></script>

  <!-- include spec files here... -->


</head>

<body>

  <div id="sticky-holder">
    <div id="sticky">gdfgdfg</div>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nulla ligula, egestas sit amet malesuada vel, iaculis at mi. Donec vestibulum nunc at neque pretium et egestas erat scelerisque. Pellentesque hendrerit egestas eros, non mattis arcu viverra vitae. Praesent tincidunt magna at urna ultrices consequat. Phasellus cursus rutrum lectus non dapibus. Curabitur lorem lorem, blandit vitae vehicula eget, sagittis vitae dolor. Integer sed ipsum sed elit facilisis commodo quis a urna. Mauris scelerisque nibh in metus tempor tristique. Fusce commodo sagittis ultrices. Pellentesque sit amet fermentum orci. Maecenas sollicitudin arcu non felis mollis ac laoreet augue mattis. Morbi condimentum turpis eu ipsum dapibus et euismod risus dapibus. Mauris mauris nisl, rutrum eu ultrices vel, cursus at massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
  </div>

  <div style="height: 2000px"></div>


  <script>


    describe("", function() {

      var sticky = document.getElementById('sticky');
      var holder = document.getElementById('sticky-holder');

      var instance = fixto.fixTo(sticky, holder);

      var scrollContext;

      beforeEach(function(done) {
        setTimeout(function() {
          document.documentElement.scrollTop = 40;
          if(document.documentElement.scrollTop === 40) {
            scrollContext = document.documentElement;
          }
          else {
            document.body.scrollTop = 40;
            scrollContext = document.body;
          }
          setTimeout(function() {
            done();
          }, 100);
        }, 100)
      });

      it("should stick", function(done) {
        expect(scrollContext.scrollTop).toBe(40);
        var rect = sticky.getBoundingClientRect();
        expect(rect.top).toBe(0);
        done();
      });
      
    });







  </script>
</body>
</html>
